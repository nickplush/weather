(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(26),i=n.n(o),s=(n(77),n(6)),u=n(24),d="[CITY] change",l=function(e){return{type:d,payload:e}},j="ERROR",b="JS_ERROR",h="API_ERROR",f=function(e){var t=e.name,n=e.data,a=e.level;console.log({name:t,data:n,level:a})},p=function(e){var t=e.name,n=e.data;f({name:t,data:n,level:j})},O="favorites",v=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){p({name:b,data:a})}},m=function(e){var t;try{var n=localStorage.getItem(e);t=JSON.parse(n)}catch(a){p({name:b,data:a})}return t},x="[FAVORITES] add",y="[FAVORITES] get",w=Object(u.c)({myLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{latitude:0,longitude:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.payload;default:return e}},favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case x:return t.payload;default:return e}}}),_=n(58),g=(n(84),n(123)),N=n(127),k=n(59),S=n.n(k),T={appId:"plGXJ2ZDUD0D",apiKey:"529c898360f48ea935b00c3ab5ee2060",type:"city"},D=function(){var e=Object(s.b)(),t=Object(r.useCallback)((function(t){var n=t.suggestion.latlng,a=n.lat,r=n.lng;e(l({latitude:a,longitude:r}))}),[]);return Object(a.jsx)(S.a,{placeholder:"Find city...",options:T,onChange:t})},E=n(20),C=function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(E.b,{to:"/",children:"Home"}),Object(a.jsx)(E.b,{to:"/today",children:"Today"}),Object(a.jsx)(E.b,{to:"/tomorrow",children:"Tomorrow"}),Object(a.jsx)(E.b,{to:"/week",children:"Week"})]})},J=n(46),R=n.n(J),I=function(){return Object(a.jsx)("div",{className:R.a.root,children:Object(a.jsx)(N.a,{position:"static",children:Object(a.jsxs)(g.a,{className:R.a.toolbar,children:[Object(a.jsx)(C,{}),Object(a.jsx)(D,{})]})})})},M=n(65),L=n(4),F=n.n(L),W=n(10),B=n(22),A=n(124),G=n(63),P=n.n(G).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appId:"5dd71aff0b74d44817be6ac1785e9b46"}}),U=function(){var e=Object(W.a)(F.a.mark((function e(t){var n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,t;case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p({name:h,data:e.t0});case 10:return a=n.data,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(W.a)(F.a.mark((function e(t){var n,a,r,c,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.latitude,a=void 0===n?"0":n,r=t.longitude,c=void 0===r?"0":r,e.next=3,U(P.get("/weather",{params:{lat:a,lon:c}}));case 3:return o=e.sent,e.abrupt("return",o||{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(W.a)(F.a.mark((function e(t){var n,a,r,c,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.latitude,a=void 0===n?"0":n,r=t.longitude,c=void 0===r?"0":r,e.next=3,U(P.get("/onecall",{params:{lat:a,lon:c,exclude:"current,minutely,hourly,alerts"}}));case 3:return o=e.sent,e.abrupt("return",o||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(W.a)(F.a.mark((function e(t){var n,a,r,c,o,i,s,u=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:0,a=t.latitude,r=void 0===a?"0":a,c=t.longitude,o=void 0===c?"0":c,e.next=4,U(P.get("/forecast",{params:{lat:r,lon:o,exclude:"current,minutely,hourly,alerts"}}));case 4:return i=e.sent,s=[],i&&i.list&&(s=i.list.filter((function(e){var t=e.dt;return(new Date).getDay()+n===new Date(1e3*t).getDay()}))),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return{dateTime:function(e){var t=new Date(1e3*e.dt).getHours();return"".concat(t,":00")}(e),temperature:function(e){var t=e.main.temp,n=Math.round(t-273.15);return"".concat(n," \u2103")}(e),weatherType:function(e){return e.weather[0].main}(e),windSpeed:function(e){var t=e.wind.speed;return"Wind - ".concat(t," per second")}(e),city:function(e){return"".concat(e.name,", ").concat(e.sys.country)}(e)}},Q=n(32),X=n.n(Q),Y=n(64),K=n.n(Y),Z=function(e){var t=e.favorites,n=e.myLocation,r=e.weather,c=e.saveCity,o=H(r),i=o.windSpeed,s=o.temperature,u=o.city,d=o.weatherType,l=!t.some((function(e){return t=n,a=e,JSON.stringify(a.coords)===JSON.stringify(t);var t,a}));return Object(a.jsx)("div",{children:Object(a.jsxs)(N.a,{border:1,className:X.a.root,children:[Object(a.jsx)("div",{className:X.a.container,children:Object(a.jsxs)("div",{className:X.a.card,children:[Object(a.jsx)(A.a,{variant:"h3",children:s}),Object(a.jsx)(A.a,{variant:"h4",children:u}),Object(a.jsxs)(A.a,{variant:"h6",children:[d," "]}),Object(a.jsx)(A.a,{variant:"h6",children:i})]})}),l&&Object(a.jsx)("div",{className:X.a.addBut,children:Object(a.jsx)(K.a,{onClick:c,style:{fontSize:40}})})]})})},$=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.myLocation})),n=Object(s.c)((function(e){return e.favorite})),c=Object(r.useState)(""),o=Object(B.a)(c,2),i=o[0],u=o[1],d=function(){var e=Object(W.a)(F.a.mark((function e(){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,V(t);case 3:n=e.sent,u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return d()}),[t]);return Object(a.jsx)(a.Fragment,{children:i?Object(a.jsx)(Z,{weather:i,favorites:n,myLocation:t,saveCity:function(){var a,r=function(e,t){return{city:e.name+","+e.sys.country,coords:{latitude:t.latitude,longitude:t.longitude}}}(i,t),c=[].concat(Object(M.a)(n),[r]);e((v(O,a=c),{type:x,payload:a}))}}):Object(a.jsx)(A.a,{variant:"h3",children:"Geolocation unspecified"})})},ee=n(5),te=n(125),ne=n(33),ae=n.n(ne),re=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.favorite})),n=Object(r.useCallback)((function(t){e(l(t))}),[]);return Object(a.jsxs)("div",{className:ae.a.main,children:[Object(a.jsx)("h2",{children:"Saved cities"}),Object(a.jsx)("div",{className:ae.a.root,children:Object(a.jsx)("div",{className:ae.a.container,children:Object(a.jsx)(te.a,{container:!0,spacing:10,children:t.map((function(e){var t=e.coords,r=e.city;return Object(a.jsx)(te.a,{item:!0,xs:2,children:Object(a.jsx)(N.a,{border:1,className:ae.a.card,onClick:function(){return n(t)},children:Object(a.jsx)(E.b,{to:"/today/".concat(r),children:Object(a.jsx)(A.a,{component:"div",children:r})})})},t.latitude)}))})})})]})},ce=function(e){var t=e.classes;return e.weather.map((function(e){var n=H(e),r=n.dateTime,c=n.temperature,o=n.weatherType,i=n.windSpeed;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:t.time,children:r}),Object(a.jsx)("td",{className:t.weather,children:c}),Object(a.jsx)("td",{className:t.weather,children:o}),Object(a.jsx)("td",{className:t.weather,children:i})]},r)}))},oe=n(31),ie=n(66),se=function(e){var t=e.location,n=Object(s.c)((function(e){return e.myLocation})),c=Object(r.useState)(""),o=Object(B.a)(c,2),i=o[0],u=o[1],d=function(){var e=Object(W.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,V(n);case 3:t=e.sent,u(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){return d()}),[n]),i){var l=H(i),j=l.temperature,b=l.weatherType,h={properties:{balloonContent:"".concat(j,", ").concat(b)},modules:["geoObject.addon.balloon","geoObject.addon.hint"]};return function(e){return function(e){return[[e.latitude,e.longitude]]}(e).map((function(e){return Object(a.jsx)(oe.b,Object(ie.a)({geometry:e},h),Math.random())}))}(t)}return null},ue=function(e){var t=e.location,n=e.classes;return Object(a.jsx)(N.a,{border:1,children:Object(a.jsx)(oe.c,{children:Object(a.jsx)(oe.a,{state:function(e){return{center:[e.latitude,e.longitude],zoom:8}}(t),className:n.map,children:Object(a.jsx)(se,{location:t})})})})},de=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Today","Tomorrow"],je=function(e){var t=new Date;t.setDate(t.getDate()+e);var n=t.getMonth(),a=de[n],r=t.getDate();return"".concat(a,", ").concat(r)},be=n(34),he=n.n(be),fe=function(e){var t=e.day,n=Object(s.c)((function(e){return e.myLocation})),c=Object(r.useState)([]),o=Object(B.a)(c,2),i=o[0],u=o[1],d=Object(r.useCallback)(function(){var e=Object(W.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t,n);case 2:a=e.sent,u(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);Object(r.useEffect)((function(){d(n,t)}),[n,t]);var l=je(t),j=function(e){return le[e]}(t);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:he.a.container,children:[Object(a.jsx)(A.a,{variant:"h3",children:j}),Object(a.jsx)(A.a,{variant:"h5",children:l}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:he.a.time,children:"Time"}),Object(a.jsx)("td",{children:"Weather"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsx)(ce,{classes:he.a,weather:i})})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ue,{location:n,classes:he.a})})]})},pe=["Sunday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],Oe=function(e,t){return{dayTemperature:function(e){var t=e.temp.day,n=Math.round(t-273.15);return"".concat(n," \u2103")}(e),weatherType:function(e){return e.weather[0].main}(e),weekDay:function(e){var t=new Date(1e3*e.dt);return pe[t.getDay()]}(e)}},ve=function(e){var t=e.classes,n=e.weatherItem,r=Oe(n),c=r.weatherType,o=r.weekDay,i=r.dayTemperature;return Object(a.jsxs)(N.a,{border:1,className:t.card,children:[Object(a.jsx)(A.a,{component:"div",children:o}),Object(a.jsx)(A.a,{component:"div",children:i}),Object(a.jsx)(A.a,{component:"div",children:c})]})},me=n(35),xe=n.n(me),ye=function(){var e=Object(s.c)((function(e){return e.myLocation})),t=Object(r.useState)([]),n=Object(B.a)(t,2),c=n[0],o=n[1],i=Object(r.useCallback)(function(){var e=Object(W.a)(F.a.mark((function e(t){var n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:n=e.sent,a=n.daily,o(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(r.useEffect)((function(){return i(e)}),[e]);var u=je(0),d=je(8);return Object(a.jsx)("div",{className:xe.a.root,children:Object(a.jsxs)("div",{className:xe.a.container,children:[Object(a.jsx)("h2",{children:"Week"}),Object(a.jsxs)("h3",{children:[u," - ",d]}),Object(a.jsx)("div",{className:xe.a.root,children:c.map((function(e){return Object(a.jsx)(ve,{classes:xe.a,weatherItem:e},Math.random())}))})]})})};var we=function(){var e=Object(s.b)(),t=function(){navigator.geolocation.getCurrentPosition((function(t){var n={latitude:t.coords.latitude,longitude:t.coords.longitude};e(l(n))}),(function(e){console.error("Error Code = "+e.code+" - "+e.message)})),e(function(){var e=m(O)||[];return{type:y,payload:e}}())};return Object(r.useEffect)((function(){return t()}),[]),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(I,{}),Object(a.jsx)($,{}),Object(a.jsx)(ee.a,{path:"/",exact:!0,component:re}),Object(a.jsx)(ee.a,{path:"/today",children:Object(a.jsx)(fe,{day:0})}),Object(a.jsx)(ee.a,{path:"/tomorrow",children:Object(a.jsx)(fe,{day:1})}),Object(a.jsx)(ee.a,{path:"/week",component:ye})]})},_e=Object(u.d)(w,{},Object(u.a)(_.a));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{store:_e,children:Object(a.jsx)(we,{})})}),document.getElementById("root"))},32:function(e,t,n){e.exports={root:"style_root__1bicT",container:"style_container__2BvEL",card:"style_card__10tqU",addBut:"style_addBut__1VpwE"}},33:function(e,t,n){e.exports={card:"classes_card__1xn16",root:"classes_root__3A8EG",container:"classes_container__2BFrY",main:"classes_main__3f9Om"}},34:function(e,t,n){e.exports={day:"style_day__3ciBP",map:"style_map__3Sd9Q",time:"style_time__rtnN6",weather:"style_weather__1yEj1",container:"style_container__1qyWu"}},35:function(e,t,n){e.exports={root:"style_root__3M-tg",container:"style_container__2wQGX",card:"style_card__gakWg"}},46:function(e,t,n){e.exports={root:"style_root__1W2rm",toolbar:"style_toolbar__2FJdD"}},77:function(e,t,n){},84:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.57ce6ebe.chunk.js.map